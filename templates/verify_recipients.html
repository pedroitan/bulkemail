{% extends 'base.html' %}

{% block title %}{{ _('Verify Email Recipients') }}{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="bi bi-check-circle me-2"></i>{{ _('Verify Email Recipients') }}</h2>
    </div>
        
        <div class="alert alert-info">
            <p>{{ _('This tool verifies the email addresses in your campaign to reduce bounce rates. The verification process checks:') }}</p>
            <ul>
                <li>{{ _('Email syntax validity') }}</li>
                <li>{{ _('Domain existence (DNS lookup)') }}</li>
                <li>{{ _('Basic MX record validation') }}</li>
            </ul>
        </div>
        
        {% if campaigns %}
            <form method="POST" action="{{ url_for('verify_recipients') }}">
                <div class="mb-3">
                    <label for="campaign_id" class="form-label">{{ _('Select Campaign') }}</label>
                    <select class="form-select" id="campaign_id" name="campaign_id" required>
                        <option value="">{{ _('Select a campaign') }}</option>
                        {% for campaign in campaigns %}
                            <option value="{{ campaign.id }}">{{ campaign.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                
                <button type="submit" class="btn btn-primary">{{ _('Start Verification') }}</button>
            </form>
        {% else %}
            <div class="alert alert-warning">
                {{ _('No campaigns available for verification.') }} <a href="{{ url_for('create_campaign') }}">{{ _('Create a campaign') }}</a> {{ _('first.') }}
            </div>
        {% endif %}
        
        <div class="mt-4">
            <a href="{{ url_for('campaigns') }}" class="btn btn-outline-secondary">{{ _('Back to Campaigns') }}</a>
        </div>
    </div>
{% endblock %}
